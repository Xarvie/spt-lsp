{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "scopeName": "source.sptscript",
    "patterns": [
      {
        "include": "#comments"
      },
      {
        "include": "#strings"
      },
      {
        "include": "#keywords"
      },
      {
          "include": "#storage"
      },
      {
          "include": "#types"
      },
      {
        "include": "#constants_and_literals"
      },
      {
        "include": "#operators"
      },
      {
          "include": "#punctuation"
      },
      {
        "include": "#identifiers"
      }
    ],
    "repository": {
      "comments": {
        "patterns": [
          {
            "name": "comment.line.double-slash.sptscript",
            "match": "//.*"
          },
          {
            "name": "comment.block.sptscript",
            "begin": "/\\*",
            "end": "\\*/",
            "patterns": [
              {
                "include": "#comments"
              }
            ]
          }
        ]
      },
      "strings": {
        "patterns": [
          {
            "name": "string.quoted.double.sptscript",
            "begin": "\"",
            "end": "\"",
            "patterns": [
              {
                "name": "constant.character.escape.sptscript",
                "match": "\\\\(?:[btnfr\"'\\\\]|u\\{[0-9a-fA-F]+\\}|x[0-9a-fA-F]{2})"
              }
            ]
          },
          {
            "name": "string.quoted.single.sptscript",
            "begin": "'",
            "end": "'",
            "patterns": [
              {
                "name": "constant.character.escape.sptscript",
                "match": "\\\\(?:[btnfr\"'\\\\]|u\\{[0-9a-fA-F]+\\}|x[0-9a-fA-F]{2})"
              }
            ]
          }
        ]
      },
      "keywords": {
        "patterns": [
          {
            "name": "keyword.control.sptscript",
            "match": "\\b(if|else|while|for|break|continue|return)\\b"
          },
          {
            "name": "keyword.control.import.sptscript",
            "match": "\\b(import|from|export)\\b"
          },
          {
             "name": "keyword.operator.new.sptscript",
             "match": "\\b(new)\\b"
          },
          {
             "name": "keyword.other.sptscript",
             "match": "\\b(mutivar)\\b"
          }
        ]
      },
       "storage": {
          "patterns": [
              {
                  "name": "storage.type.sptscript",
                  "match": "\\b(function|class)\\b"
              },
              {
                   "name": "storage.modifier.sptscript",
                   "match": "\\b(const|global|static|private|auto)\\b"
              }
          ]
       },
       "types": {
          "patterns": [
               {
                  "name": "storage.type.primitive.sptscript",
                  "match": "\\b(int|float|number|string|bool|any|void|null|list|map|coro|union|tuple)\\b"
               }
          ]
       },
      "constants_and_literals": {
        "patterns": [
          {
            "name": "constant.language.boolean.sptscript",
            "match": "\\b(true|false)\\b"
          },
          {
            "name": "constant.language.null.sptscript",
            "match": "\\b(null)\\b"
          },
          {
             "name": "constant.numeric.hex.sptscript",
             "match": "\\b0[xX][0-9a-fA-F]+(?:\\.[0-9a-fA-F]*)?(?:[pP][+\\-]?\\d+)?\\b"
          },
          {
             "name": "constant.numeric.float.sptscript",
             "match": "\\b(?:\\d+\\.\\d*|\\.\\d+)(?:[eE][+\\-]?\\d+)?\\b"
          },
          {
             "name": "constant.numeric.integer.sptscript",
             "match": "\\b\\d+(?:[eE][+\\-]?\\d+)?\\b"
          }
        ]
      },
      "operators": {
        "patterns": [
          {
            "name": "keyword.operator.assignment.compound.sptscript",
            "match": "\\+=|-=|\\*=|/=|%=|\\.\\.="
          },
          {
            "name": "keyword.operator.assignment.sptscript",
            "match": "="
          },
          {
              "name": "keyword.operator.comparison.sptscript",
              "match": "==|!=|<=|>=|<|>"
          },
          {
              "name": "keyword.operator.logical.sptscript",
              "match": "\\&\\&|\\|\\||!"
          },
           {
              "name": "keyword.operator.bitwise.shift.sptscript",
              "match": "<<"
           },
          {
              "name": "keyword.operator.bitwise.sptscript",
              "match": "\\&|\\||\\^|~"
          },
          {
             "name": "keyword.operator.concatenation.sptscript",
             "match": "\\.\\."
          },
          {
            "name": "keyword.operator.arithmetic.sptscript",
            "match": "\\+|-|\\*|\\/|%"
          },
           {
              "name": "keyword.operator.other.sptscript",
              "match": "\\#|->"
           }
        ]
      },
      "punctuation": {
          "patterns": [
               {
                  "name": "punctuation.terminator.statement.sptscript",
                  "match": ";"
               },
               {
                  "name": "punctuation.separator.comma.sptscript",
                  "match": ","
               },
               {
                  "name": "punctuation.separator.key-value.sptscript",
                  "match": ":"
               },
               {
                   "name": "punctuation.accessor.dot.sptscript",
                   "match": "\\."
               },
               {
                    "name": "keyword.operator.variadic.sptscript",
                    "match": "\\.\\.\\."
               },
               {
                  "name": "meta.brace.round.sptscript",
                  "match": "\\(|\\)"
               },
               {
                  "name": "meta.brace.square.sptscript",
                  "match": "\\[|\\]"
               },
               {
                  "name": "meta.brace.curly.sptscript",
                  "match": "\\{|\\}"
               }
          ]
      },
      "identifiers": {
         "patterns": [
           {
              "name": "variable.language.this.sptscript",
              "match": "\\b(this)\\b"
           },
           {
               "match": "\\b([a-zA-Z_][a-zA-Z_0-9]*)\\s*\\(",
               "captures": {
                   "1": { "name": "entity.name.function.sptscript" }
               }
           },
            {
              "name": "variable.other.sptscript",
              "match": "\\b[a-zA-Z_][a-zA-Z_0-9]*\\b"
            }
         ]
      }
    }
  }